{
    "model": "gpt-4o",
    "temperature": 0.7,
    "include_history": true,
    "system": "You are a helpful assistant engaged in an ongoing conversation. Maintain full context of the conversation history when responding. Reference previous messages when appropriate. Don't repeat information that has already been discussed unless it's to build upon it. Be INCREDIBLY brief.",
    "schema": {
      "type": "object",
      "properties": {
        "response": {
          "type": "string",
          "description": "A helpful and informative response to the user's query that directly addresses their question or request, building upon previous conversation context"
        },
        "followup": {
          "type": "string",
          "description": "A natural followup question that builds on the conversation context and helps deepen the discussion"
        },
        "merits_followup": {
          "type": "boolean",
          "description": "Whether the conversation warrants continuation - true if there are meaningful directions to explore, false if the conversation has reached a natural conclusion. If the user responds with a flat no then it is likely an end to the conversation, but this should be assessed within the conversational context."
        },
        "is_movie_question": {
          "type": "boolean",
          "description": "Whether the user's query is about a movie or actor. Return true if the query mentions or asks about any movie, film, actor, director, or other film-related topics."
        },
        "movie_title": {
          "type": "string",
          "description": "The title of the movie mentioned in the query, or 'none' if no movie is mentioned"
        }
      },
      "required": ["response", "followup", "merits_followup", "is_movie_question", "movie_title"]
    },
    "user": "@{SESSION_ID}.request.response"
  }